# 4.4.4 特殊参数处理

要处理查询中参数，可以像之前的章节例子中定义方法参数，此外，基础框架还将识别如pageable和sort等的特殊类型，为查询应用动态分页和排序，下面的例子展示了这些功能：

 例14. 在查询方法中使用`Pageable`，`Slice`和`Sort`

```text
Page<User> findByLastname(String lastname, Pageable pageable);

Slice<User> findByLastname(String lastname, Pageable pageable);

List<User> findByLastname(String lastname, Sort sort);

List<User> findByLastname(String lastname, Pageable pageable);
```

{% hint style="info" %}
接受Sort并Pageable期望将非null值传递给方法的API 。如果您不想应用任何排序或分页，请使用Sort.unsorted\(\)和Pageable.unpaged\(\)。
{% endhint %}

第一种方法使您可以将`org.springframework.data.domain.Pageable`实例传递给查询方法，以将分页动态添加到静态定义的查询中。A `Page`知道可用元素和页面的总数。它是通过基础结构触发计数查询来计算总数来实现的。由于这可能很昂贵（取决于所使用的商店），因此您可以改为返回`Slice`。一个`Slice`只知道无论下一个`Slice`是可用的，通过一个较大的结果集行走时，这可能是足够的。

排序选项也通过`Pageable`实例处理。如果只需要排序，则将一个`org.springframework.data.domain.Sort`参数添加到您的方法中。如您所见，`List`也可以返回a 。在这种情况下，`Page`不会创建构建实际实例所需的其他元数据（这反过来，这意味着不会发出本来必要的其他计数查询）。而是，它将查询限制为仅查找给定范围的实体

{% hint style="info" %}
要找出整个查询可获得多少页，您必须触发其他计数查询。默认情况下，此查询派生自您实际触发的查询。
{% endhint %}

