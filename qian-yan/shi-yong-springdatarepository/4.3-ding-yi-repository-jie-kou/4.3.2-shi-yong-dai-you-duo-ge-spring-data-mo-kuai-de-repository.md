# 4.3.2 使用带有多个Spring Data模块的Repository

在应用中使用唯一的Spring data module是很简单的,因为所有已定义的Repository接口都已绑定到了Spring Data Module中，有时，应用需要使用多个模块，这种情况下，repository的定义必需在不同的持久化存储中有所区别。当在类路径classpath中检测到有多个repository factory时，Spring Data进入严格的repository配置模式，严格的配置使用repository或domain class上的信息来决定关于Spring Data Module对repository定义绑定：

1. 如果repository定义继承了指定模块的repository,那它将是这个指定模板的有效候选者。
2. 如果domain class使用了指定模块类型专有的注解，那它将是这个指定模板的有效候选者。Spring Data Modulde可以接受第三方模块的注解，如jpa的@Entity, 或者提供它自己的注解，如Spring Data MongoDB和Spring Data ElasticSearch的 @Document。

The following example shows a repository that uses module-specific interfaces \(JPA in this case\):

下面这个例子显示了一个repository使用指定模块的接口，这个例子使用了jpa:

例8，repository使用指定模块的接口：

```text
interface MyRepository extends JpaRepository<User, Long> { }

@NoRepositoryBean
interface MyBaseRepository<T, ID> extends JpaRepository<T, ID> { … }

interface UserRepository extends MyBaseRepository<User, Long> { … }
```

